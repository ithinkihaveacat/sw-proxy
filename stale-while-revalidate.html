<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="register-ready.js"></script>
  <script>
    registerReady("stale-while-revalidate.js").then(function () {
      console.log("ACTIVE");
    });
  </script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.1.1/material.indigo-pink.min.css">
  <script defer src="https://code.getmdl.io/1.1.1/material.min.js"></script>
</head>

<body>

  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--6-col">
      <div class="mdl-card mdl-shadow--8dp">
        <div class="mdl-card__title">
          <h1 class="mdl-card__title-text">Stale While Revalidate</h1>
        </div>
        <div class="mdl-card__supporting-text">

          <p>The proxy transforms the following images so that they get a
          <tt>cache-control</tt> header of <tt>max-age=10,
          stale-while-revalidate=50</tt>.</p>

          <p>The cache will be used until the images are 10 seconds old. Between
          10 seconds and 60 seconds, the cache can be used, but the service
          worker will revalidated (i.e. re-fetch) the images in the background.
          After the images are 60 seconds old, the cache is not used.</p>

          <img id="img00" src="/jpg/00.jpg">
          <img id="img01" src="/jpg/01.jpg">
          <img id="img02" src="/jpg/02.jpg">
          <img id="img03" src="/jpg/03.jpg">
        </div>

      </div>
    </div>
  </div>

</body>

</html>
